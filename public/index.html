<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zongo Express UK</title>

  <style>
    body {
      background: radial-gradient(circle at 30% 30%, #0b0b14, #000);
      color: #e0e0ff;
      font-family: 'Inter', sans-serif;
      padding: 20px;
    }

    h1 {
      text-align: center;
      font-size: 1.8em;
      margin-bottom: 5px;
      background: linear-gradient(90deg, #4b6fff, #8a73ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: glowPulse 4s ease-in-out infinite;
    }

    @keyframes glowPulse {
      0%, 100% { text-shadow: 0 0 8px #4b6fff55; }
      50% { text-shadow: 0 0 20px #8a73ffaa; }
    }

    .tagline {
      text-align: center;
      font-size: 1em;
      color: #8a8aff;
      margin-bottom: 20px;
    }

    .wrap {
      max-width: 600px;
      margin: auto;
    }

    .card {
      background: #121224;
      border: 1px solid #2b2b4a;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 0 20px rgba(75, 110, 255, 0.2);
    }

    input, select {
      width: 100%;
      margin: 8px 0;
      padding: 10px;
      border: none;
      border-radius: 8px;
      background: #1a1a2e;
      color: #fff;
    }

    .nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-bottom: 15px;
    }

    button {
      background: linear-gradient(90deg, #4b6fff, #8a73ff);
      border: none;
      border-radius: 8px;
      padding: 8px 14px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: 0.2s ease;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 10px #4b6fff88;
    }

    #formArea {
      margin-top: 15px;
    }

    .promo-frame {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }

    iframe {
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(75, 110, 255, 0.25);
    }
  </style>
</head>

<body>
  <div class="wrap">
    <h1>‚ö° Zongo Express UK</h1>
    <p class="tagline">Fast ‚Ä¢ Local ‚Ä¢ Reliable</p>

    <div class="promo-frame">
      <iframe src="https://www.behance.net/embed/project/158867369?ilo0=1"
        height="316" width="404" allowfullscreen frameborder="0"
        allow="clipboard-write" loading="lazy"></iframe>
    </div>

    <div class="nav">
      <button data-type="errand" onclick="showForm('errand')">üèÉ Errand</button>
      <button data-type="delivery" onclick="showForm('delivery')">üöö Delivery</button>
      <button data-type="cleaner" onclick="showForm('cleaner')">üßπ Cleaner</button>
      <button data-type="customer" onclick="showForm('customer')">üë§ Customer</button>
      <button data-type="payments" onclick="showForm('payments')">üí≥ Payments</button>
      <button id="viewData" onclick="loadList()">üìä View Data</button>
    </div>

    <div id="formArea" class="card"></div>
  </div>

  <script>
    async function showForm(type) {
      const formArea = document.getElementById('formArea');
      const fields = {
        errand: ['Full Name', 'Task Description', 'Pickup Location', 'Dropoff Location', 'Phone Number'],
        delivery: ['Full Name', 'Package Type', 'Pickup Address', 'Destination', 'Phone Number'],
        cleaner: ['Full Name', 'Service Type', 'Address', 'Preferred Time', 'Phone Number'],
        customer: ['Full Name', 'Email', 'Phone', 'Preferred Service'],
        payments: ['Name', 'Amount (¬£)', 'Payment Method', 'Notes']
      };

      const formFields = fields[type]
        .map(f => `<input placeholder="${f}" name="${f.toLowerCase().replace(/ /g,'_')}" />`)
        .join('');

      formArea.innerHTML = `
        <h3>${type.charAt(0).toUpperCase() + type.slice(1)} Request</h3>
        <form id="serviceForm">
          ${formFields}
          <button type="submit">üöÄ Book Now</button>
        </form>
      `;

      document.getElementById('serviceForm').onsubmit = async (e) => {
        e.preventDefault();
        const data = Object.fromEntries(new FormData(e.target).entries());
        data.type = type;

        const res = await fetch('/api/submit/' + type, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });

        const result = await res.json();
        alert(result.message || "Request sent successfully!");
      };
    }

    async function loadList() {
      const res = await fetch('/api/list');
      const records = await res.json();
      const formArea = document.getElementById('formArea');
      formArea.innerHTML = '<h3>üìä Recent Bookings</h3><pre>' + JSON.stringify(records, null, 2) + '</pre>';
    }
  </script>
</body>
</html>